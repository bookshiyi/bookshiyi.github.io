---
title: 【03底层硬件系统构建】–ROS机器人制作指南
tags:
  - ROS
  - 机器人
url: 2370.html
id: 2370
comments: false
categories:
  - ROS机器人操作系统
  - 机器人
date: 2017-05-08 22:01:53
---

###         底层的主要功能：通信 控制 检测

 

        策略：底层硬件系统主要是服务于上位机，它是一个优秀的执行者，不是一个优秀的决策者。除运动机构的实时控制需要实现内部闭环之外，其他的控制策略不应该参与，而是以请示的形式汇报给上位机，从更高维度来决策动作。

        目前主流的做法都是使用一块嵌入式控制器（STM32、89C51、AVR、Aarduino、Freescal等），通过串口、rs232、rs485等形式连接上位机，制定一些固定的协议格式（多为开发者自己定义，也可参考rosserial）进行数据交互，控制功率模块驱动执行机构，同时连接多种传感器（编码器、超声波、IMU、霍尔电流传感器等）进行数据采集。

* * *

        随着不断地开发，我们逐渐发现，集中式的底层硬件结构有一些潜在的问题：

*   扩展性、可升级性差，增减功能很可能需要对PCB重新设计
*   单元之间耦合度高，牵一发而动全身
*   故障排除困难

        于是我们考虑向汽车行业看齐，硬件系统上采用分布式结构，将每个单元打包，降低耦合，如运动单元、传感器单元、通信单元，每个单元各司其职，内部通信可以考虑工业以太网或CAN总线等现场总线。

       这样做可以保证每次的系统设计通过单元的增减即可，无论是软件还是硬件都降低了模块耦合度，提高了硬件的通用性，不用聚焦于具体的需求和环境而设计专用的定制版的PCB和软件，故障排查时更有针对性，也不会因某一控制器处于绝对地位导致故障时出现严重后果。固然，弊端就是软硬件的开发难度和成本都要更高一些，但是这都是值得的。