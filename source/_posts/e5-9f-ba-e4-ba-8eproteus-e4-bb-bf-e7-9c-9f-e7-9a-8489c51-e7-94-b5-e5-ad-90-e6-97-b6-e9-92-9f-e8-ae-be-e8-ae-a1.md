---
title: 基于Proteus仿真的89c51电子时钟设计
tags:
  - '8051'
  - Proteus
  - 单片机
  - 数码管
  - 电子时钟
url: 194.html
id: 194
comments: false
categories:
  - MSC-8051
  - 单片机
  - 软件设计
date: 2015-12-02 16:21:59
---

1.项目总体设计思路
----------

### 1.1功能说明

        本小组采用了比较常用的AT89C52作为核心控制芯片，用汇编语言进行编程来满足设计的要求。用LED数码管来实现时、分、 秒的显示,通过3个按钮开关可以对时钟进行调整,其他外接电路还有晶振电路、复位电路等等。

        本小组设计的主要功能有时分秒显示，时分秒调整键。

### 1.2设计思路

        本工程的设计思路是根据所要实现的功能先选择硬件电路的器件，硬件电路的连接方式，硬件电路主要含有按键模块，显示模块，晶振电路模块，复位电路模块；硬件设计基础上编写汇编程序实现功能，程序设计中主要包含按键模块（外部中断），显示模块，计时模块（定时器中断）

2.硬件方案设计
--------

### 2.1计时方案的选择

####         方案一：采用实时时钟芯片。

        实时时钟芯片具备年、月分、秒计时功能和多点定时功能，计时数据的更新每秒自动进行一次，不需程序干预。计算机可通过中断或查询方式读取计时数据进行显示，因此计时功能的实现无需占用CPU的时间，程序简单。此外，实时时钟芯片多数带有锂电池做后备电源，具备永不停止的计时功能；具有可编程方波输出功能，可用做实时测控系统的采样信号等；有的实时时钟芯片内部还带有非易失性RAM，可用来存放需长期保存但有时也需变更的数据。由于功能完善，精度高，软件程序设计相对简单，且计时不占用CPU时间.

####         方案二：软件控制。

        利用单片机内部的定时/计数器进行中断定时，配合软件延时实现时、分、秒的计时及秒表计时。该方案节省硬件成本，且能使设计者对单片机的指令系统能有更深入的了解，从而掌握单片机应用技术MCS-51汇编语言程序设计方法，因此，本系统设计采用此种软件控制方法来实现计时。而由于ATMEL公司的AT89C52单片机是低功耗的具有4KB在线可编程Flash存储器的单片机。它与通用80C51系列单片机的指令系和引脚兼容。片内的Flash可允许在线重新编程，也可使用通用非易失性存储器编程。它将通用CPU和在线可编程Flash集成在一个芯片上，形成了功能强大、使用灵活和具有较高性能价格比的微控制器。它的功能强大，而且也较容易购买。

        综合比较，方案二的硬件电路更为简洁，且容易实现，性价比较高。

### 2.2时间调整电路

        本小组采用了独立式按键设计，如图所示，独立式按键直接与单片机I/O口相连构成键盘，每个按键不会相互影响，因本系统用到的按键比较少，采用独立式键盘不会浪费I/O口线，所以本系统采用独立式键盘。按键一端接地，一端接于P1.4,P1.5,P1.6口，分别调整时分秒的数值。

### 2.3显示电路

#### 2.2.1扫描方式的选择

        本小组选用LED数码管作为显示部分的主要元件，数码管要正常显示，就要用驱动电路来驱动数码管的各个段码，从而显示出我们要的数字，因此根据数码管的驱动方式的不同，可以分为静态式和动态式两类。

#####         方案一：静态显示驱动

        静态显示就是显示驱动电路，具有输出锁存功能。当显示器显示某个字符时，相应的段恒定的导通或截止，直到显示另一个字符为止。即单片机将所有要显示的数据送出后就不再控制LED，直到下一次显示时再传送一次新的显示数据。静态显示的数据稳定，数码管的亮度较高，占用的CPU时间少，程序容易，管理简单，但占用的I/O线资源教多。静态显示中，每一个显示器都要占用单独的具有锁存功能的I/O接口，该接口用于笔划段字型代码。这样单片机只要把要显示的字形代码发送到接口电路，该字段就可以显示发送的字形。要显示新的数据时，单片机在发送新的字形码。动态扫描方法是用其接口电路把所有显示器的8个笔画段a~h同名端连在一起，而每一个显示器的公共极COM各自独立的受I/O线控制。CPU向字段输出口送出字形码时，所有显示器接收到相同的字形码，但究竟是哪个显示器亮，则取决于COM段，而这一段是由I/O控制的，由单片机决定何时显示哪一位了。优点：程序简单，亮度高。缺点：所占I/O口过多，不适合数目多的数码管设计课题。

#####         方案二：动态显示驱动

        数码管动态显示接口是单片机中应用最为广泛的一种显示方式之一，动态驱动是将所有数码管的8个显示笔划＂a，b，c，d，e，f，g，dp＂的同名端连在一起，另外为每个数码管的公共极COM增加位选通控制电路，位选通由各自独立的I/O线控制，当单片机输出字形码时，所有数码管都接收到相同的字形码，但究竟是那个数码管会显示出字形，取决于单片机对位选通COM端电路的控制，所以我们只要将需要显示的数码管的选通控制打开，该位就显示出字形，没有选通的数码管就不会亮。通过分时轮流控制各个数码管的的COM端，就使各个数码管轮流受控显示，在轮流显示过程中，每位数码管的点亮时间为1～2mＳ，由于人的视觉暂留现象及发光二极管的余辉效应，只要扫描的速度足够快，动态显示的效果和静态显示是一样的，能够节省大量的I/O端口，而且功耗更低。

        综上所述：我所要用到的数码管共有14位，更加适合用动态扫描。

3.硬件框图
------

![图片1](http://oarap.org/wp-content/uploads/2016/02/图片1-2.png)
-------------------------------------------------------------

4.软件流程图
-------

![图片2](http://oarap.org/wp-content/uploads/2016/02/图片2-3.png)
-------------------------------------------------------------

5.仿真效果
------

![图片3](http://oarap.org/wp-content/uploads/2016/02/图片3-3.png)
-------------------------------------------------------------

源代码+原理图下载链接：[【8051单片机】基于Protues仿真的电子时钟设计.rar](http://oarap.org/wp-content/uploads/2016/02/【8051单片机】基于Protues仿真的电子时钟设计.rar)