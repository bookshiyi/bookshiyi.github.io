---
title: 【02底层硬件选型】–ROS机器人制作指南
tags:
  - ROS
  - 机器人
  - 机器人操作系统
url: 2362.html
id: 2362
comments: false
categories:
  - ROS机器人操作系统
  - 机器人
date: 2017-05-07 21:53:00
---

### 底层硬件的主要任务

在本系统中，底层硬件主要特点是检测和执行，不负责策略的指定，在后续的制作过程中请谨记这一点

最最最核心的任务：控制电机、检测电机

光靠电机会在轮子滑动时或者地面不平坦时导致累计误差

所以引入IMU来减少轮子滑动或场地不同带来的误差

但是IMU只能减少累计误差，不能消除

超声波的目的是防止在ROS层的策略出现问题时系统出现意外，这个是专门为下位机设计的策略指定

### 底层硬件框图

![](http://oarap.org/wp-content/uploads/2018/03/ros_robot_base_hardware_diagram.png)

### 推荐接线图

（包括开关变压器）

### 主控制器选型

ROS官方支持的最好的当属Arduino，但是Arduino的极客属性太强，容易出现一些BUG，当然上手快、资源多和成本是他最好的杀手锏 STM32是ROS支持的第二完善的，可以让你更自由的定义嵌入式底层硬件的逻辑，可定制性和稳定性高、适合量产，上手周期较长

本系列文章将着重介绍基于STM32作为底层硬件主控的移动平台

### 驱动器选型

常见的两种驱动架构：

![](http://oarap.org/wp-content/uploads/2018/03/ros_robot_driver_diagram_1.png)

这种驱动器仅仅是一种功率放大的作用，需要在单片机内部实现多路PWM输出、脉冲检测（正交解码）、PID闭环控制，甚至是过流保护等 开发周期长、成本低

![](http://oarap.org/wp-content/uploads/2018/03/ros_robot_driver_diagram_2.png)

这种驱动器不仅仅是一个功率放大的执行器，还内置了控制器，自主实现闭环控制、过流保护等，而我们的主控芯片只需要向他发送指令或者读取数据即可 开发周期短，成本高

### 电池选型

主要考虑容量、电压、功率、体积

### IMU选型

6050 9250 高精度单轴陀螺 高性能惯导单元

### 超声波

主要用于紧急避障使用

### 其他

电源线的功率要保证 信号线的屏蔽要做好 电池接线时严防短路 下位机可以考虑使用操作系统

* * *

### 遗憾与骄傲

把PCB图贴上来

驱动器选型有一些问题，并且无法使用CAN总线USB和CAN用同一组硬件收发器，所以导致不能同时使用，485容易带来过多的干扰