---
title: 2016-09【嵌入式】OpenCM控制板的固件修复/升级方法及使用心得
tags:
  - OpenCM
  - Robotis
  - 固件修复
url: 1058.html
id: 1058
comments: false
categories:
  - STM32
  - 单片机
  - 嵌入式
  - 开源硬件
date: 2016-09-01 20:41:30
---

**0.前言**

        **Robotis Bioloid**是韩国机器人厂商Robotis生产的教育用机器人套装。Bioloid平台由类似于乐高的元件和小的，模块化的伺服（叫做“Dynamixel”），可以组装成轮子、腿或是人形机器人。

**1.简介**

       **Robotis**出品的数字舵机驱动板OpenCM，由ARM Cortex-M3内核的STM32作为运算控制单元，官方提供类Arduino的IDE和自己舵机的底层驱动库，这样可以极大简化开发流程加快开发进度。

       使用过类Arduino平台开发的朋友们应该都了解固件的存在，Frameware相当于计算机系统中的BSP层（板级支持包，主要作用抽象硬件，为上层应用提供简洁的接口）。

       刷固件的原因主要有两个：1.使用中可能不小心损坏固件（不恰当断电、中断烧写程序等）;2.官方提供固件更新（修复BUG、提升性能、完善功能等）

       鉴于互联网上关于OpenCM升级固件的资料较少，故书此文。

**2.升级/修复固件**

**（本教程仅支持OpenCM9.04TypeC，如下）**

![OpenCM TypeC](http://oarap.org/wp-content/uploads/2016/09/OpenCM-TypeC.jpg)

        **2.0**在断电状态按住USER按键（图中左下角）；

        **2.1**使用USB线连接至电脑，当绿色STATE灯亮起时表示进入刷写固件的状态（图中左上角）；

        **2.2**打开**RoboPlus**（[下载地址](http://en.robotis.com/BlueAD/board.php?bbs_id=downloads&mode=view&bbs_no=1132559&page=1&key=&keyword=&sort=&scate=SOFTWARE)），点击**RoboPlus Maneger**（如下图） ；

![darwin_mini_firmware2](http://oarap.org/wp-content/uploads/2016/09/darwin_mini_firmware2.jpg)

        **2.3**在**RoboPlus Maneger** 的右上角刷新按钮用来联网检查最新版固件；

        **2.4**点击菜单栏的修复固件按钮（如下图）；

![darwin_mini_firmware4](http://oarap.org/wp-content/uploads/2016/09/darwin_mini_firmware4.jpg)

弹出如下界面；

![darwin_mini_firmware5](http://oarap.org/wp-content/uploads/2016/09/darwin_mini_firmware5.jpg)

        **2.5**选择控制板所在的端口，并点击Find；

![darwin_mini_firmware6](http://oarap.org/wp-content/uploads/2016/09/darwin_mini_firmware6.jpg)

        **2.6**接下来一路**NEXT**就可以了；

![darwin_mini_firmware10](http://oarap.org/wp-content/uploads/2016/09/darwin_mini_firmware10.jpg)

**3.感受**

        在使用这个平台时对其虚拟串口颇为感叹，以前从没有见过这种方案，大多开发平台通过USB连接电脑的解决方案都是有一块板载的USB-TTL芯片（pl2303、CH340、CP2102、FAT340等等），而这个平台上只有一块STM32F103C8T6单片机，片上也没有USB-TTL的单元，完全是通过底层在电脑中虚拟出一个串口，这样的做法不仅可以减小开发平台的体积还可以提高稳定性降低功耗和成本。

* * *