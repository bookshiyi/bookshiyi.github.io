---
title: 基于物联网技术的智能电动车安防系统
tags:
  - 89c51
  - gps
  - gsm
  - msp430
  - oled
  - 三轴
  - 安防
  - 物联网
  - 遥控
url: 420.html
id: 420
comments: false
categories:
  - MSC-8051
  - TI MSP430
  - 单片机
  - 嵌入式
date: 2015-03-07 16:54:24
---

#### 作品设计：

        根据相关统计显示，在被采访的100人中，有过半数的人丢过电动车，三分之一的人丢过一辆，六分之一人丢过两辆，有三分之一的人认为电动车失窃的主要原因是窃贼手段高明，防不胜防。从这些数据上面不难看出，在我国的电动车安防领域已经出现了短板，给了偷车贼们可乘之机，而本套系统的目的就在于利用先进的物联网技术，结合精准的算法，实时、准确的将信息发送给电动车主主人，减少或杜绝电动车被盗案件的发生。同时我们还在在某市的统计数据中了解到，该市平均五天就会发生一起电动车自燃事件，如此庞大的数字让人震惊，而该系统从根源解决了电动车自燃的问题。在被控端，我们将系统分为主控芯片STC-89C52，无线通信模块HC-12，GSM通信模块SIM900A，GPS定位模块，温湿度传感器DTH-11，火焰传感器，三轴加速度计ADXL-345，后备式UPS模块，在遥控端，主要分为主控芯片MSP430-G2553,无线通信模块HC-12，声光报警模块。

#### 发明目的:

从根本解决电动车盗窃案件的发生，同时提高了电动车的安全性能；

       1.解决传统报警器的误判和噪音污染，提高了报警系统的通知效率；

       2.降低由于电池不正常使用或电路老化或电池及充电器质量较差而引起的自燃事件的发生概率；

       3.当盗窃事件发生后，能够通过GPS及时准确的找回电动车。

#### 基本思路：

       1.由于该系统没有采用过去传统的震动传感器，所以在锁定状态时，鞭炮声、雷电轰鸣声、汽车鸣笛声等都不会引起报警；

       2.设防状态下即便是路人不小心将车碰倒或者被大风刮倒，系统会根据车体的运动曲线的变化情况，计算出车体的运动方式，从而排除干扰源大大降低误报的可能；

       3.当偷车贼在实施盗窃的时候，车辆的加速度计会发生一些不规则的变化，然后结合GPS的相对位置变化，那么这样就可以判断出电动车是否被盗；

       4.目前电动车电池和充电器的质量良莠不齐，再加之用户们的不合理操作和线路老化的情况，电动车自燃的情况时有发生，主要发生在充电时和高速高温行驶时，为了避免此类事情发生，我们在系统中加装了温湿度传感器和火焰传感器，无论是在行驶过时还是充电时，只要当电池温度明显升高，且环境湿度较低，就会有一个告警信息发送给控制端同时车体发出蜂鸣声，只要当火焰传感器检测到车体起火时，会立即切断电池的充放电电路，发送告警信息到主控端同时车体发出蜂鸣声；

       5.由于电动车电池的价值相当于整台车价值的一半，部分偷车贼会选择偷走电池，或者选择切断电源线，断开整个系统的供电，普通的报警系统就显得捉襟见肘了，所以该系统会在电池供电失效时会自动切换到后备式UPS模式供电，并发送告警信息到主控端同时车体发出蜂鸣声，有效防止了电池被盗和电源被切断而无法报警的情况的发生；

       6.即使在戒备如此森严的安防系统保护下，可能还无法完全杜绝电动车被盗，比如主控端电池电量低，主控端在身边等等，那么电动车被盗后，我们可以通过车上自带的GSM通信模块，用事先设置好的手机给被控端发送一条指令短信，很快被控端就会发送当前的位置信息到主人的手机上，为警方破案提供了强有力的破案帮助。

#### 创新点：

      1.在杜绝了噪音污染的同时，还保证了报警信号的送达效率；

       2.杜绝了因鞭炮等其他环境因素引起报警误判的可能；

       3.杜绝了由电路老化，电池质量差，使用方法不正常等造成的电动车自燃事件；

       4.具有丢车找回功能，给警方提供了有力的证据。

#### 技术关键：

      1.准确、及时的测量电池的温度及周围湿度；

       2.准确根据三轴加速度计判断车体的运动情况，分辨出电动车被盗时和外力致使倒在地上的不同运动状态；

       3.设计主控端主控芯片MSP430以及其他器件(OLED显示器、无线数传等)的低功耗设计；

       4.通过GSM网络进行短信指令控制，准确无误的将GPS定位信息发送给主人；

       5.良好的人机交互界面，简洁易懂的图形化操作。

#### 使用说明：

      1.按下遥控器的锁定按键，车体会发出“滴滴”的声音以示接收到信息，系统进入报警状态，同时OLED显示器上面出现“锁定的标识”，一旦电池温度、车体姿态、蓄电池、车体位置信息、火焰发生较大的变化，遥控端会发出蜂鸣器报警提示，并显示出错误的类型，方便用户进行相应的处理；

       2.按下遥控器的开锁按键，车体会发出“滴滴”的声音以示接收到信息，系统进入普通状态，同时OLED显示器上面出现“开锁”的标识，但是，与此同时，一旦电池温度、蓄电池、火焰发生较大的变化，遥控端依旧会发出蜂鸣器报警提示，并显示出错误的类型，方便用户进行相应的处理；

       3.当发生盗窃后，用户可以通过提前设置好的关系号码发送一条指令短信到电动车的接收端，然后立即会有一条定位短信发送给用户，给警方提供了准确具体的定位数据。

#### 应用前景：

      该套系统的研制成功，将意味着打破传统的电动车安防理念，彻底取代传统的电动车安防系统，降低电动车被盗案件的发生，提高电动车丢失后的找回率，同时还可以应用到汽车及其他的贵重物品的安防监管上，让盗贼彻底无路可走，有助于净化社会风气，降低犯罪率。 在未来物联网如日中天的社会里，该套安防系统及其安防理念也必将得到更多的关注，也极有可能应用到其他更广阔的安防领域。

#### 项目简介：

从根本解决电动车盗窃案件的发生，同时提高了电动车的安全性能；

       1.解决传统报警器的误判和噪音污染，提高了报警系统的通知效率；

       2.降低由于电池不正常使用或电路老化或电池及充电器质量较差而引起的自燃事件的发生概率；

       3.当盗窃事件发生后，能够通过GPS及时准确的找回。

#### 项目创新点：

      1.杜绝了噪音污染的同时，保证了报警信号的送达效率；

       2.杜绝了因鞭炮、儿童误碰等其他环境因素引起报警误判的可能；

       3.杜绝了由电路老化，电池质量差，使用方法不正常等造成的电动车自燃事件；

       4.具有丢车查找功能，给警方提供了有力的证据。

    ▼来一波内部构造图。左侧为GSM模块，右侧为电源管理系统，主要负责备用电池充放电和主副电池切换。

![IMG_20150111_213541](http://oarap.org/wp-content/uploads/2016/03/IMG_20150111_213541-300x225.jpg) ![IMG_20150111_213549](http://oarap.org/wp-content/uploads/2016/03/IMG_20150111_213549-300x225.jpg)![IMG_20150111_213531](http://oarap.org/wp-content/uploads/2016/03/IMG_20150111_213531-300x225.jpg)

    ▼中间为主机的主控单元，主要负责姿态检测和数据收发，绿色模块为ADXL-345三轴加速度计

  ![IMG_20150112_153338](http://oarap.org/wp-content/uploads/2016/03/IMG_20150112_153338-300x225.jpg) ![IMG_20150112_153344](http://oarap.org/wp-content/uploads/2016/03/IMG_20150112_153344-300x225.jpg) ![IMG_20150112_153350](http://oarap.org/wp-content/uploads/2016/03/IMG_20150112_153350-300x225.jpg)

    ▼右侧蓝色小模块为紫外火焰传感器，检测电动车线路或电瓶起火。

![IMG_20150112_153358](http://oarap.org/wp-content/uploads/2016/03/IMG_20150112_153358-300x225.jpg) ![IMG_20150112_153404](http://oarap.org/wp-content/uploads/2016/03/IMG_20150112_153404-300x225.jpg)

    ▼左侧为主机，两个天线分别为GSM和GPS通讯服务，右侧的为用户机即遥控器，屏幕上指示温度、电池、车体姿态及地理位置是否正常，下方按键为多功能按键，长按解锁，短按为锁定/唤醒屏幕，内置锂电池。

![QQ截图 20150328144037 - 马赛克版本](http://oarap.org/wp-content/uploads/2016/03/QQ截图-20150328144037-马赛克版本.png)

    ▼主人手机端短信界面 ![](http://oarap.org/wp-content/uploads/2015/03/car_gps_gsm_arming_system_sms_1-576x1024.jpg) ![](http://oarap.org/wp-content/uploads/2015/03/car_gps_gsm_arming_system_sms_2-576x1024.jpg)

    ▼打印了一百份的宣传单，本以为是观众投票的形式，还特意做成了可折叠小册子的形式，结果是评委老师点评，只拿走了一份\[笑哭\]，现在来看还是一份很认真的设计（尤其是封皮上面的三个扁平化ICON图标），尽管它十分的丑陋。

![A4第四版 （可调整）](http://oarap.org/wp-content/uploads/2016/03/A4第四版-（可调整）.png)

    ▼精心准备的PPT，然而根本没给答辩的机会。。。以下为PPT节选【技术篇】。

![幻灯片1](http://oarap.org/wp-content/uploads/2016/03/幻灯片1-1-300x225.png)![幻灯片2](http://oarap.org/wp-content/uploads/2016/03/幻灯片2-300x225.png)![幻灯片3](http://oarap.org/wp-content/uploads/2016/03/幻灯片3-300x225.png)![幻灯片4](http://oarap.org/wp-content/uploads/2016/03/幻灯片4-300x225.png)![幻灯片5](http://oarap.org/wp-content/uploads/2016/03/幻灯片5-300x225.png)![幻灯片6](http://oarap.org/wp-content/uploads/2016/03/幻灯片6-300x225.png)![幻灯片8](http://oarap.org/wp-content/uploads/2016/03/幻灯片8-300x225.png)![幻灯片9](http://oarap.org/wp-content/uploads/2016/03/幻灯片9-300x225.png)![幻灯片7](http://oarap.org/wp-content/uploads/2016/03/幻灯片7-300x225.png)

* * *

###### 感悟：

    本来做这个作品的初衷是因为家里的箱货车每天晚上需要使用电热炉加热（北方的冬天很冷的），处于对安全的考虑我想给父亲做一个可以遥控电热炉的设备，支持定时开关机，支持火焰和高温报警，最好是能使用PID算法使车内温度尽量保持恒温，这样即保证了车内的安全，也不用晚上出去开关电热炉了，而且温度可以实时传回到室内，便于查看。后来因为比赛直接改了方向，做起了现在这个。

到了后期也意识到了作品的一些缺点：

    1.成本控制的不够低，很多器件的选型不是十分的合适，比如功耗、工作温度等性能没有充分考虑。

    2.系统硬件过于复杂，不适合在高震动的车载环境。

    3.迫于对互联网、服务器、安卓应用等知识的了解不足，故没有真正的将这个物联网连接到因特网、通过手机APP或网页方式进行交互。但同时也面临一些安全问题，当十分敏感的地理位置、行车轨迹等信息经过公网传输，势必会引起有心人的注意。

* * *

###### 后记：

    今年冬天觉得晚上开关电热炉十分不方便，心里有萌生做一个“基于STM32的PID温度控制系统”，主要功能有：温度检测控制，主机信息通过wifi发送到家中的局域网，然后开发一个app，当前局域网下的所有手机都可以使用该app查看车内温度，控制主机的工作状态，这样没有多余的客户端，只要安装上app，局域网下的手机都是客户端/遥控端，而且便于后期的界面升级。

     源代码不打算发了，写的特别臃肿，没有模块化编程，而且没有流程图，读起来也很吃力。如果需要请联系admin\[at\]oarap.org